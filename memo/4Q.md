1. For a 4Q element, first convert 3d space to 2d.
    
    + To do that, first calculate vector $n$
        
        $$\hat n = p_{21} \times p_{31}$$
    
    + Then set x' parallel to vector $p_{21}$

        $$\hat i =  \hat{p_{21}}$$
    
    + generate $\hat j = \hat n \times \hat i$

2. Generate ${K^e}'$

    + as ${K^{e}}'$

        $$
            \begin{aligned}
            {K^e}'  &= \int{B^T D B}d\Omega \\
                    &= \sum{ W_i W_j \left( B^T D B \right) \left|J\right|} \\
            \end{aligned}
        $$
    
    + consider that 

        $$
        \begin{aligned}
            J^e = GN^{4Q}\left[x^e \; y^e\right]\\
            B^e = \left(J^e\right)^{-1}GN^{4Q} \\
        \end{aligned}
        $$
    
    we can generate $GN^{4Q}$ first, then generate $J^e$ and $B^e$, assembly 2D stiffness matrix ${K^e}'$, then convert $K^e$ by 

    $$ K^e = R^T {K^e}' R $$

    where 

    $$ R = \left(
        \begin{matrix}
            i_0 & i_1 & i_2 & 0 & 0 & 0 & 0 & 0 & 0 \\
            j_0 & j_1 & j_2 & 0 & 0 & 0 & 0 & 0 & 0 \\
            0 & 0 & 0 & i_0 & i_1 & i_2 & 0 & 0 & 0 \\
            0 & 0 & 0 & j_0 & j_1 & j_2 & 0 & 0 & 0 \\
            0 & 0 & 0 & 0 & 0 & 0 & i_0 & i_1 & i_2 \\
            0 & 0 & 0 & 0 & 0 & 0 & j_0 & j_1 & j_2 
        \end{matrix}
        \right)
    $$